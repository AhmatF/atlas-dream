import 'dotenv/config';
import { getPayload } from 'payload';
import config from './src/payload/payload.config';

async function seedData() {
  console.log('üîå Connecting to database...');
  console.log('DATABASE_URL:', process.env.DATABASE_URL ? 'Set ‚úì' : 'Not set ‚úó');
  console.log('PAYLOAD_SECRET:', process.env.PAYLOAD_SECRET ? 'Set ‚úì' : 'Not set ‚úó');

  const payload = await getPayload({ config });

  console.log('üå± Starting database seeding...');

  // Seed Cars
  console.log('\nüöó Seeding cars...');

  const carsData = [
    {
      name: { en: 'Mercedes-Benz S-Class', fr: 'Mercedes-Benz Classe S' },
      brand: 'Mercedes-Benz',
      year: 2024,
      seats: 5,
      transmission: 'Automatic',
      color: 'Black',
      priceDayNote: { en: '‚Ç¨200/day', fr: '200‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨300/day', fr: '300‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,500 security deposit', fr: '1 500‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport meet & greet', fr: 'Accueil √† l\'a√©roport' } },
        { text: { en: 'Comprehensive insurance', fr: 'Assurance tous risques' } },
        { text: { en: 'Unlimited mileage', fr: 'Kilom√©trage illimit√©' } },
      ],
      options: [
        { name: { en: 'Wi-Fi hotspot', fr: 'Hotspot Wi-Fi' }, priceNote: { en: '‚Ç¨10/day', fr: '10‚Ç¨/jour' } },
        { name: { en: 'Child seat (0-3 years)', fr: 'Si√®ge enfant (0-3 ans)' }, priceNote: { en: '‚Ç¨5/day', fr: '5‚Ç¨/jour' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Range Rover Vogue', fr: 'Range Rover Vogue' },
      brand: 'Land Rover',
      year: 2024,
      seats: 7,
      transmission: 'Automatic',
      color: 'Pearl White',
      priceDayNote: { en: '‚Ç¨250/day', fr: '250‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨350/day', fr: '350‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨2,000 security deposit', fr: '2 000‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport meet & greet', fr: 'Accueil √† l\'a√©roport' } },
        { text: { en: 'Premium insurance', fr: 'Assurance premium' } },
        { text: { en: 'GPS navigation', fr: 'Navigation GPS' } },
      ],
      options: [
        { name: { en: 'Additional driver', fr: 'Conducteur additionnel' }, priceNote: { en: '‚Ç¨15/day', fr: '15‚Ç¨/jour' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'BMW 7 Series', fr: 'BMW S√©rie 7' },
      brand: 'BMW',
      year: 2025,
      seats: 5,
      transmission: 'Automatic',
      color: 'Space Grey',
      priceDayNote: { en: '‚Ç¨220/day', fr: '220‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨320/day', fr: '320‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,800 security deposit', fr: '1 800‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Professional driver available', fr: 'Chauffeur professionnel disponible' } },
        { text: { en: 'Full insurance coverage', fr: 'Couverture d\'assurance compl√®te' } },
        { text: { en: 'Free airport pickup', fr: 'Prise en charge gratuite √† l\'a√©roport' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Mercedes-Benz G-Class AMG', fr: 'Mercedes-Benz Classe G AMG' },
      brand: 'Mercedes-Benz',
      year: 2024,
      seats: 5,
      transmission: 'Automatic',
      color: 'Matte Black',
      priceDayNote: { en: '‚Ç¨350/day', fr: '350‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨450/day', fr: '450‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨3,000 security deposit', fr: '3 000‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport VIP service', fr: 'Service VIP √† l\'a√©roport' } },
        { text: { en: 'Premium insurance', fr: 'Assurance premium' } },
        { text: { en: 'Chauffeur service available', fr: 'Service de chauffeur disponible' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Audi Q7', fr: 'Audi Q7' },
      brand: 'Audi',
      year: 2024,
      seats: 7,
      transmission: 'Automatic',
      color: 'Glacier White',
      priceDayNote: { en: '‚Ç¨180/day', fr: '180‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨280/day', fr: '280‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,500 security deposit', fr: '1 500‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport meet & greet', fr: 'Accueil √† l\'a√©roport' } },
        { text: { en: 'Comprehensive insurance', fr: 'Assurance tous risques' } },
        { text: { en: 'Free GPS', fr: 'GPS gratuit' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Porsche Cayenne', fr: 'Porsche Cayenne' },
      brand: 'Porsche',
      year: 2024,
      seats: 5,
      transmission: 'Automatic',
      color: 'Volcano Grey',
      priceDayNote: { en: '‚Ç¨280/day', fr: '280‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨380/day', fr: '380‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨2,500 security deposit', fr: '2 500‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport VIP transfer', fr: 'Transfert VIP a√©roport' } },
        { text: { en: 'Full coverage insurance', fr: 'Assurance tout risque' } },
        { text: { en: 'Unlimited kilometers', fr: 'Kilom√®tres illimit√©s' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Range Rover Sport', fr: 'Range Rover Sport' },
      brand: 'Land Rover',
      year: 2024,
      seats: 5,
      transmission: 'Automatic',
      color: 'Byron Blue',
      priceDayNote: { en: '‚Ç¨220/day', fr: '220‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨320/day', fr: '320‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,800 security deposit', fr: '1 800‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport pickup service', fr: 'Service de prise en charge √† l\'a√©roport' } },
        { text: { en: 'Premium insurance', fr: 'Assurance premium' } },
        { text: { en: 'English-speaking driver', fr: 'Chauffeur anglophone' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'BMW X7', fr: 'BMW X7' },
      brand: 'BMW',
      year: 2025,
      seats: 7,
      transmission: 'Automatic',
      color: 'Carbon Black',
      priceDayNote: { en: '‚Ç¨240/day', fr: '240‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨340/day', fr: '340‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨2,000 security deposit', fr: '2 000‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport meet & greet', fr: 'Accueil √† l\'a√©roport' } },
        { text: { en: 'Full insurance', fr: 'Assurance compl√®te' } },
        { text: { en: 'Wi-Fi included', fr: 'Wi-Fi inclus' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Mercedes-Benz E-Class', fr: 'Mercedes-Benz Classe E' },
      brand: 'Mercedes-Benz',
      year: 2024,
      seats: 5,
      transmission: 'Automatic',
      color: 'Obsidian Black',
      priceDayNote: { en: '‚Ç¨150/day', fr: '150‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨250/day', fr: '250‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,200 security deposit', fr: '1 200‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport transfer', fr: 'Transfert a√©roport' } },
        { text: { en: 'Insurance included', fr: 'Assurance incluse' } },
        { text: { en: 'GPS navigation', fr: 'Navigation GPS' } },
      ],
      airportMeet: true,
      published: true,
    },
    {
      name: { en: 'Audi A8', fr: 'Audi A8' },
      brand: 'Audi',
      year: 2025,
      seats: 5,
      transmission: 'Automatic',
      color: 'Manhattan Grey',
      priceDayNote: { en: '‚Ç¨190/day', fr: '190‚Ç¨/jour' },
      priceWithDriverNote: { en: '‚Ç¨290/day', fr: '290‚Ç¨/jour' },
      depositNote: { en: '‚Ç¨1,600 security deposit', fr: '1 600‚Ç¨ de d√©p√¥t de garantie' },
      included: [
        { text: { en: 'Airport VIP meet & greet', fr: 'Accueil VIP √† l\'a√©roport' } },
        { text: { en: 'Premium insurance', fr: 'Assurance premium' } },
        { text: { en: 'Chauffeur service available', fr: 'Service de chauffeur disponible' } },
      ],
      airportMeet: true,
      published: true,
    },
  ];

  for (const carData of carsData) {
    try {
      const car = await payload.create({
        collection: 'cars',
        data: carData as any,
      });
      console.log(`‚úÖ Created car: ${car.name}`);
    } catch (error) {
      console.error(`‚ùå Error creating car:`, error);
    }
  }

  // Seed Villas
  console.log('\nüè† Seeding villas...');

  const villasData = [
    {
      name: { en: 'Villa Oasis Palmeraie', fr: 'Villa Oasis Palmeraie' },
      district: 'Palmeraie',
      bedrooms: 6,
      bathrooms: 6,
      guests: 12,
      pricePerNightNote: { en: '‚Ç¨1,200/night', fr: '1 200‚Ç¨/nuit' },
      minNights: 3,
      highlights: [
        { text: { en: 'Private heated pool', fr: 'Piscine priv√©e chauff√©e' } },
        { text: { en: 'Traditional hammam', fr: 'Hammam traditionnel' } },
        { text: { en: 'Palm grove views', fr: 'Vue sur la palmeraie' } },
      ],
      amenities: [
        { text: { en: 'Full staff included', fr: 'Personnel complet inclus' } },
        { text: { en: 'Private chef available', fr: 'Chef priv√© disponible' } },
        { text: { en: 'Airport transfers', fr: 'Transferts a√©roport' } },
        { text: { en: 'Daily housekeeping', fr: 'M√©nage quotidien' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Riad Luxury Hivernage', fr: 'Riad Luxe Hivernage' },
      district: 'Hivernage',
      bedrooms: 4,
      bathrooms: 4,
      guests: 8,
      pricePerNightNote: { en: '‚Ç¨850/night', fr: '850‚Ç¨/nuit' },
      minNights: 2,
      highlights: [
        { text: { en: 'Modern luxury design', fr: 'Design de luxe moderne' } },
        { text: { en: 'Rooftop terrace', fr: 'Terrasse sur le toit' } },
        { text: { en: 'Close to downtown', fr: 'Proche du centre-ville' } },
      ],
      amenities: [
        { text: { en: 'Heated swimming pool', fr: 'Piscine chauff√©e' } },
        { text: { en: 'Concierge service', fr: 'Service de conciergerie' } },
        { text: { en: 'Housekeeping', fr: 'M√©nage' } },
        { text: { en: 'Wi-Fi & entertainment', fr: 'Wi-Fi et divertissement' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Villa Serenity Agdal', fr: 'Villa S√©r√©nit√© Agdal' },
      district: 'Agdal',
      bedrooms: 5,
      bathrooms: 5,
      guests: 10,
      pricePerNightNote: { en: '‚Ç¨950/night', fr: '950‚Ç¨/nuit' },
      minNights: 3,
      highlights: [
        { text: { en: 'Spacious gardens', fr: 'Jardins spacieux' } },
        { text: { en: 'Contemporary architecture', fr: 'Architecture contemporaine' } },
        { text: { en: 'Mountain views', fr: 'Vue sur les montagnes' } },
      ],
      amenities: [
        { text: { en: 'Large swimming pool', fr: 'Grande piscine' } },
        { text: { en: 'BBQ area', fr: 'Espace BBQ' } },
        { text: { en: 'Parking for 4 cars', fr: 'Parking pour 4 voitures' } },
        { text: { en: 'Full staff', fr: 'Personnel complet' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Villa Majorelle Gu√©liz', fr: 'Villa Majorelle Gu√©liz' },
      district: 'Gu√©liz',
      bedrooms: 3,
      bathrooms: 3,
      guests: 6,
      pricePerNightNote: { en: '‚Ç¨650/night', fr: '650‚Ç¨/nuit' },
      minNights: 2,
      highlights: [
        { text: { en: 'Central location', fr: 'Emplacement central' } },
        { text: { en: 'Art deco style', fr: 'Style art d√©co' } },
        { text: { en: 'Walking distance to shops', fr: 'Commerces √† pied' } },
      ],
      amenities: [
        { text: { en: 'Private plunge pool', fr: 'Petite piscine priv√©e' } },
        { text: { en: 'Modern kitchen', fr: 'Cuisine moderne' } },
        { text: { en: 'Air conditioning', fr: 'Climatisation' } },
        { text: { en: 'Daily cleaning', fr: 'Nettoyage quotidien' } },
      ],
      conciergeIncluded: false,
      published: true,
    },
    {
      name: { en: 'Villa Atlas View', fr: 'Villa Vue Atlas' },
      district: 'Route de l\'Ourika',
      bedrooms: 8,
      bathrooms: 8,
      guests: 16,
      pricePerNightNote: { en: '‚Ç¨2,200/night', fr: '2 200‚Ç¨/nuit' },
      minNights: 4,
      highlights: [
        { text: { en: 'Stunning Atlas Mountain views', fr: 'Vue imprenable sur l\'Atlas' } },
        { text: { en: 'Infinity pool', fr: 'Piscine √† d√©bordement' } },
        { text: { en: 'Wine cellar', fr: 'Cave √† vin' } },
      ],
      amenities: [
        { text: { en: 'Private chef included', fr: 'Chef priv√© inclus' } },
        { text: { en: 'Full concierge team', fr: '√âquipe de conciergerie compl√®te' } },
        { text: { en: 'Spa & massage room', fr: 'Spa et salle de massage' } },
        { text: { en: 'Cinema room', fr: 'Salle de cin√©ma' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Villa Golf Amelkis', fr: 'Villa Golf Amelkis' },
      district: 'Amelkis',
      bedrooms: 5,
      bathrooms: 5,
      guests: 10,
      pricePerNightNote: { en: '‚Ç¨1,100/night', fr: '1 100‚Ç¨/nuit' },
      minNights: 3,
      highlights: [
        { text: { en: 'On golf course', fr: 'Sur le terrain de golf' } },
        { text: { en: 'Golf cart included', fr: 'Voiturette de golf incluse' } },
        { text: { en: 'Club access', fr: 'Acc√®s au club' } },
      ],
      amenities: [
        { text: { en: 'Heated pool', fr: 'Piscine chauff√©e' } },
        { text: { en: 'Tennis court', fr: 'Court de tennis' } },
        { text: { en: 'Gym', fr: 'Salle de sport' } },
        { text: { en: 'Butler service', fr: 'Service de majordome' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Villa Prestige Al Maaden', fr: 'Villa Prestige Al Maaden' },
      district: 'Al Maaden',
      bedrooms: 7,
      bathrooms: 7,
      guests: 14,
      pricePerNightNote: { en: '‚Ç¨1,800/night', fr: '1 800‚Ç¨/nuit' },
      minNights: 4,
      highlights: [
        { text: { en: 'Exclusive gated community', fr: 'Communaut√© ferm√©e exclusive' } },
        { text: { en: 'Lake views', fr: 'Vue sur le lac' } },
        { text: { en: 'Modern Moroccan design', fr: 'Design marocain moderne' } },
      ],
      amenities: [
        { text: { en: 'Large infinity pool', fr: 'Grande piscine √† d√©bordement' } },
        { text: { en: 'Golf course access', fr: 'Acc√®s au terrain de golf' } },
        { text: { en: 'Full staff included', fr: 'Personnel complet inclus' } },
        { text: { en: 'Security 24/7', fr: 'S√©curit√© 24h/24' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Riad Authentique M√©dina', fr: 'Riad Authentique M√©dina' },
      district: 'M√©dina',
      bedrooms: 4,
      bathrooms: 4,
      guests: 8,
      pricePerNightNote: { en: '‚Ç¨750/night', fr: '750‚Ç¨/nuit' },
      minNights: 2,
      highlights: [
        { text: { en: 'Traditional riad architecture', fr: 'Architecture de riad traditionnelle' } },
        { text: { en: 'Walking distance to souks', fr: 'Souks √† pied' } },
        { text: { en: 'Rooftop with city views', fr: 'Toit-terrasse avec vue sur la ville' } },
      ],
      amenities: [
        { text: { en: 'Central courtyard pool', fr: 'Piscine dans la cour centrale' } },
        { text: { en: 'Traditional hammam', fr: 'Hammam traditionnel' } },
        { text: { en: 'Breakfast included', fr: 'Petit-d√©jeuner inclus' } },
        { text: { en: 'Staff on site', fr: 'Personnel sur place' } },
      ],
      conciergeIncluded: false,
      published: true,
    },
    {
      name: { en: 'Villa Paradise Palmeraie', fr: 'Villa Paradis Palmeraie' },
      district: 'Palmeraie',
      bedrooms: 10,
      bathrooms: 10,
      guests: 20,
      pricePerNightNote: { en: '‚Ç¨3,500/night', fr: '3 500‚Ç¨/nuit' },
      minNights: 5,
      highlights: [
        { text: { en: 'Luxury estate with multiple buildings', fr: 'Domaine de luxe avec plusieurs b√¢timents' } },
        { text: { en: 'Event space for weddings', fr: 'Espace √©v√©nementiel pour mariages' } },
        { text: { en: 'Helipad available', fr: 'H√©liport disponible' } },
      ],
      amenities: [
        { text: { en: 'Multiple pools', fr: 'Piscines multiples' } },
        { text: { en: 'Full-time chef & staff', fr: 'Chef et personnel √† temps plein' } },
        { text: { en: 'Spa facilities', fr: 'Installations de spa' } },
        { text: { en: 'Private stables', fr: '√âcuries priv√©es' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
    {
      name: { en: 'Villa Moderne Targa', fr: 'Villa Moderne Targa' },
      district: 'Hivernage',
      bedrooms: 4,
      bathrooms: 4,
      guests: 8,
      pricePerNightNote: { en: '‚Ç¨900/night', fr: '900‚Ç¨/nuit' },
      minNights: 2,
      highlights: [
        { text: { en: 'Ultra-modern design', fr: 'Design ultra-moderne' } },
        { text: { en: 'Smart home technology', fr: 'Technologie maison intelligente' } },
        { text: { en: 'Close to nightlife', fr: 'Proche de la vie nocturne' } },
      ],
      amenities: [
        { text: { en: 'Heated pool with jacuzzi', fr: 'Piscine chauff√©e avec jacuzzi' } },
        { text: { en: 'Home cinema', fr: 'Cin√©ma maison' } },
        { text: { en: 'Gym & sauna', fr: 'Salle de sport et sauna' } },
        { text: { en: 'Concierge service', fr: 'Service de conciergerie' } },
      ],
      conciergeIncluded: true,
      published: true,
    },
  ];

  for (const villaData of villasData) {
    try {
      const villa = await payload.create({
        collection: 'villas',
        data: villaData as any,
      });
      console.log(`‚úÖ Created villa: ${villa.name}`);
    } catch (error) {
      console.error(`‚ùå Error creating villa:`, error);
    }
  }

  console.log('\n‚ú® Database seeding completed!');
  process.exit(0);
}

seedData().catch((error) => {
  console.error('‚ùå Seeding failed:', error);
  process.exit(1);
});
